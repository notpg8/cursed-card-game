(()=>{"use strict";class e{constructor(e){this.id=e.id,this.rarity=e.rarity,this.description=e.description,this.stats={attack:this.assignRandomStatValue(20),defense:this.assignRandomStatValue(30),hp:this.assignRandomStatValue(100)}}get getCardDetails(){return{id:this.id,rarity:this.rarity,description:this.description,stats:this.stats}}get getRarityIcon(){switch(this.rarity){case"common":return"●";case"uncommon":return"◆";case"rare":return"★";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getCardDescription(){return this.description}assignRandomStatValue=e=>Math.floor(Math.random()*Math.floor(e))+1}var t=io();let r=[];const a=()=>{o(r),i()};t.on("deal-cards",(e=>{r.push(...e),a()}));const c=e=>{const r=e.target.style;document.querySelectorAll(".card").forEach((e=>{e.style.scale=1,e.style.zIndex=0,e.style.position="relative"})),i(),r.transform="scale(1.5)",r.zIndex=10,e.target.firstChild.style.visibility="visible",t.emit("chat","fuck you")},o=t=>{const r=document.querySelector(".play-area");t.map((t=>{const a=new e(t),c=document.createElement("DIV");c.classList.add("card",a.rarity),c.setAttribute("draggable","true"),c.setAttribute("style",`background-size: 100%; background-image: url("./media/cards-pngs-optimized/medium/${a.id.toString()}.png"), linear-gradient(to right, #BF953F, #FCF6BA, #FBF5B7, #AA771C);`),r.appendChild(c),((e,t)=>{const r=document.createElement("P");r.classList.add("card-rarity"),r.appendChild(document.createTextNode(e.getRarityIcon)),t.appendChild(r)})(a,c),c.addEventListener("click",(function(){n(a)}))})),d(),s(),document.querySelectorAll(".card").forEach((e=>{e.addEventListener("click",c)}))},d=()=>{document.querySelector(".populate-cards").setAttribute("disabled","true")},s=()=>{document.querySelector(".delete-cards").removeAttribute("disabled")},i=()=>{const e=document.querySelectorAll(".common"),t=document.querySelectorAll(".uncommon"),r=document.querySelectorAll(".rare"),a=document.querySelectorAll(".back"),c=e=>{e.forEach((e=>{const t=Math.random()<.5?-1:1,r=(Math.floor(Math.random()*Math.floor(2.5))+1)*t;e.style.transform=`rotate(${r}deg)`}))};c(e),c(t),c(r),c(a)};document.querySelector(".populate-cards").addEventListener("click",a),document.querySelector(".delete-cards").addEventListener("click",(()=>{const e=document.querySelector(".play-area");for(;e.firstChild;)e.removeChild(e.firstChild);document.querySelector(".populate-cards").removeAttribute("disabled"),document.querySelector(".delete-cards").setAttribute("disabled","true"),l()}));const n=e=>{const t=document.querySelector(".card-description");t&&t.remove();const r=document.querySelector(".card-details-area"),a=document.createElement("P");a.classList.add("card-description"),a.appendChild(document.createTextNode(e.description)),r.appendChild(a)},l=()=>{const e=document.querySelector(".card-description");e&&e.remove()}})();