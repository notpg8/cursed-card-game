(()=>{"use strict";class e{constructor(e){this.id=e.id,this.rarity=e.rarity,this.description=e.description,this.stats={attack:this.assignRandomStatValue(20),defense:this.assignRandomStatValue(30),hp:this.assignRandomStatValue(100)}}get getCardStats(){return`HP : ${this.stats.hp} | ATK: ${this.stats.attack} | DEF: ${this.stats.defense}\n    `}get getRarityIcon(){switch(this.rarity){case"common":return"●";case"uncommon":return"◆";case"rare":return"★";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getCardDescription(){return this.description}assignRandomStatValue=e=>Math.floor(Math.random()*Math.floor(e))+1}var t=io();let r=[];const a=()=>{d(r),n()};t.on("deal-cards",(e=>{r.push(...e),a()}));const c=e=>{const r=e.target.style;document.querySelectorAll(".card").forEach((e=>{e.style.scale=1,e.style.zIndex=0,e.style.position="relative"})),n(),r.transform="scale(1.9)",r.zIndex=10,e.target.firstChild.style.visibility="visible",t.emit("chat","fuck you")},d=t=>{const r=document.querySelector(".play-area");t.map((t=>{const a=new e(t),c=document.createElement("DIV");c.classList.add("card",a.rarity),c.setAttribute("style",`background-size: 100%; background-image: url("./media/cards-pngs-optimized/medium/${a.id.toString()}.png"), linear-gradient(to right, #BF953F, #FCF6BA, #FBF5B7, #AA771C);`),r.appendChild(c),((e,t)=>{const r=document.createElement("P");r.classList.add("card-rarity"),r.appendChild(document.createTextNode(e.getRarityIcon)),t.appendChild(r)})(a,c),((e,t)=>{const r=document.createElement("P");r.classList.add("card-stats"),r.appendChild(document.createTextNode(e.getCardStats)),t.appendChild(r)})(a,c),c.addEventListener("click",(function(){i(a)}))})),o(),s(),document.querySelectorAll(".card").forEach((e=>{e.addEventListener("click",c)}))},o=()=>{document.querySelector(".populate-cards").setAttribute("disabled","true")},s=()=>{document.querySelector(".delete-cards").removeAttribute("disabled")},n=()=>{const e=document.querySelectorAll(".common"),t=document.querySelectorAll(".uncommon"),r=document.querySelectorAll(".rare"),a=document.querySelectorAll(".back"),c=e=>{e.forEach((e=>{const t=Math.random()<.5?-1:1,r=(Math.floor(Math.random()*Math.floor(2.5))+1)*t;e.style.transform=`rotate(${r}deg)`}))};c(e),c(t),c(r),c(a)};document.querySelector(".populate-cards").addEventListener("click",a),document.querySelector(".delete-cards").addEventListener("click",(()=>{const e=document.querySelector(".play-area");for(;e.firstChild;)e.removeChild(e.firstChild);document.querySelector(".populate-cards").removeAttribute("disabled"),document.querySelector(".delete-cards").setAttribute("disabled","true"),l()}));const i=e=>{const t=document.querySelectorAll(".card-description");t&&t.forEach((e=>e.remove()));const r=document.querySelector(".card-details-area"),a=document.createElement("P"),c=document.createElement("P");a.classList.add("card-description"),c.classList.add("card-description"),a.appendChild(document.createTextNode(e.description)),c.appendChild(document.createTextNode(`${e.getRarityIcon} ${e.rarity.toUpperCase()} | HP: ${e.stats.hp} | ATTACK: ${e.stats.attack} | DEFENSE: ${e.stats.defense}`)),r.appendChild(a),r.appendChild(c)},l=()=>{const e=document.querySelectorAll(".card-description");e&&e.forEach((e=>e.remove()))}})();