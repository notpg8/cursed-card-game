(()=>{"use strict";class e{constructor(e){this.id=e.id,this.rarity=e.rarity,this.name=e.name,this.description=e.description,this.stats={attack:this.assignRandomStatValue(this.rarity),defense:this.assignRandomStatValue(this.rarity),hp:this.assignRandomStatValue(this.rarity)}}get getCardStats(){return`‚öî ${this.stats.attack} | ‚ô• ${this.stats.hp} `}get getRarityIcon(){switch(this.rarity){case"common":return"‚óè";case"uncommon":return"‚óÜ";case"rare":return"‚òÖ";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getRarityColor(){switch(this.rarity){case"common":return"gray";case"uncommon":return"rgb(97 131 118)";case"rare":return"gold";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getIsWeak(){return this.stats.attack<=20||this.stats.hp<=20}get getRandomWeakText(){switch(this.randomNumber(5)){case 1:return"OOF";case 2:return"WHACK";case 3:return"SO BAD";case 4:return"OH NO";case 5:return"WEAK!"}}get getCardDescription(){return this.description}get getCardImagesUrls(){return{front:`./media/cards-pngs-optimized/medium/${this.id}`,back:"./media/cards-pngs-optimized/medium/back/originalback.png"}}get getCardDiv(){const e=`card ${"rare"===this.rarity?this.rarity+" animate-glow":this.rarity} face-down`,t=`background-image: url('./media/cards-pngs-optimized/medium/${this.id.toString()}.png'); background-image: url('./media/cards-pngs-optimized/medium/${this.id}')${"rare"===this.rarity?", linear-gradient(to right, #BF953F, #FCF6BA, #FBF5B7, #AA771C);":""}; background-color: ${this.getRarityColor}; background-size: cover; width: 100%; height:100%; pointer-events: none; visibility: hidden; position: absolute; z-index: -1;`;return{classes:e.split(" "),styles:{faceUpStyles:t,faceDownStyles:"background-image: url('./media/cards-pngs-optimized/medium/back/originalback.png'); background-color: rgb(83, 118, 131); background-size: cover;"}}}assignRandomStatValue=e=>{if(e){if("rare"===e)return Math.floor(Math.random()*Math.floor(100))+50;if("uncommon"===e)return Math.floor(Math.random()*Math.floor(60))+30;if("common"===e)return Math.floor(Math.random()*Math.floor(30))+1}};randomNumber=e=>Math.floor(Math.random()*Math.floor(e))+1}var t=io();let a=[];const r=()=>{c(a),d()};t.on("deal-cards",(e=>{a.push(...e),r()}));const i=()=>{document.querySelectorAll(".card").forEach((e=>{e.style.transform="scale(1)",e.style.zIndex=0,e.style.position="relative"}))},s=e=>{const a=e.target.style;i(),d(),a.transform="scale(1.6)",a.zIndex=10,e.target.firstChild.style.visibility="visible",e.target.querySelector(".notification-area")&&u(e),m(e),t.emit("chat","fuck you")},c=t=>{const a=document.querySelector(".play-area");t.map((t=>{const r=new e(t),i=document.createElement("DIV"),s=document.createElement("DIV");i.classList.add(...r.getCardDiv.classes),i.setAttribute("style",r.getCardDiv.styles.faceDownStyles),s.classList.add("card-image"),s.classList.add(`${r.rarity}-image-filter`),s.setAttribute("style",r.getCardDiv.styles.faceUpStyles),a.appendChild(i),i.appendChild(s),((e,t)=>{const a=document.createElement("P");a.classList.add("card-rarity"),a.classList.add(`${e.rarity}-card-rarity`),a.appendChild(document.createTextNode(e.getRarityIcon)),t.appendChild(a)})(r,i),r.getIsWeak&&((e,t)=>{const a=document.createElement("span");a.innerHTML=e.getRandomWeakText,a.setAttribute("style","opacity: 0;"),a.classList.add("notification-area"),t.appendChild(a)})(r,i),((e,t)=>{const a=document.createElement("P");a.classList.add("card-stats"),a.classList.add(`${e.rarity}-card-stats`),a.appendChild(document.createTextNode(e.getCardStats)),t.appendChild(a)})(r,i),i.addEventListener("click",(function(){n(r)}))})),o(),document.querySelectorAll(".card").forEach((e=>{e.addEventListener("click",s)}))},o=()=>{document.querySelector(".delete-cards").removeAttribute("disabled")},d=()=>{const e=document.querySelectorAll(".common"),t=document.querySelectorAll(".uncommon"),a=document.querySelectorAll(".rare"),r=document.querySelectorAll(".back"),i=e=>{e.forEach((e=>{const t=Math.random()<.5?-1:1,a=(Math.floor(Math.random()*Math.floor(2.5))+1)*t;e.style.transform=`rotate(${a}deg)`}))};i(e),i(t),i(a),i(r)};document.querySelector(".populate-cards").addEventListener("click",(()=>{t.emit("request-new-cards",(e=>{a=[],a.push(...e),r()}))})),document.querySelector(".delete-cards").addEventListener("click",(()=>{const e=document.querySelector(".play-area");for(;e.firstChild;)e.removeChild(e.firstChild);document.querySelector(".populate-cards").removeAttribute("disabled"),document.querySelector(".delete-cards").setAttribute("disabled","true"),l()})),document.querySelector(".reveal-all-cards").addEventListener("click",(()=>{document.querySelectorAll(".card").forEach((e=>{e.classList.remove("face-down"),e.classList.add("face-up"),e.querySelector(".card-rarity").style.visibility="visible",e.querySelector(".card-stats").style.visibility="visible",e.querySelector(".card-image").style.visibility="visible",e.querySelector(".notification-area")&&(e.querySelector(".notification-area").style.visibility="visible")}))}));const n=e=>{const t=document.querySelectorAll(".card-description");t&&t.forEach((e=>e.remove()));const a=document.querySelector(".card-details-area"),r=document.createElement("H2"),i=document.createElement("P"),s=document.createElement("P");r.classList.add("card-name","card-description"),i.classList.add("card-description"),s.classList.add("card-description"),r.appendChild(document.createTextNode(e.name.substring(0,e.name.indexOf(".")).toUpperCase())),i.appendChild(document.createTextNode(e.description)),s.appendChild(document.createTextNode(`${e.getRarityIcon} ${e.rarity.toUpperCase()} | ATTACK: ${e.stats.attack} | HP: ${e.stats.hp}`)),a.appendChild(r),a.appendChild(i),a.appendChild(s)},l=()=>{const e=document.querySelectorAll(".card-description");e&&e.forEach((e=>e.remove()))},u=e=>{e.target.querySelector(".notification-area").setAttribute("style","opacity: 1;"),setTimeout((()=>{e.target.querySelector(".notification-area").setAttribute("style","opacity: 0;")}),700)};(()=>{const e=document.querySelector(".server-status");e.innerHTML="üü¢ &nbsp;",e.setAttribute("style","vertical-align: top; font-size: 0.4rem")})();const m=e=>e.target.classList.value.includes("face-down")?(e.target.classList.remove("face-down"),e.target.classList.add("face-up"),e.target.querySelector(".card-rarity").style.visibility="visible",e.target.querySelector(".card-stats").style.visibility="visible",e.target.querySelector(".notification-area").style.visibility="visible",void(e.target.querySelector(".card-image").style.visibility="visible")):null;document.addEventListener("click",(e=>{"board"!==e.target.className&&"play-area"!==e.target.className||i()}))})();