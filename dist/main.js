(()=>{"use strict";class e{constructor(e){this.id=e.id,this.rarity=e.rarity,this.description=e.description,this.stats={attack:this.assignRandomStatValue(20),defense:this.assignRandomStatValue(30),hp:this.assignRandomStatValue(100)}}get getCardStats(){return`HP : ${this.stats.hp} | ATK: ${this.stats.attack} | DEF: ${this.stats.defense}\n    `}get getRarityIcon(){switch(this.rarity){case"common":return"●";case"uncommon":return"◆";case"rare":return"★";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getRarityColor(){switch(this.rarity){case"common":return"gray";case"uncommon":return"#40677a";case"rare":return"gold";default:console.log("RARITY ISSUE, NOT MATCHING ANY RARITY")}}get getIsWeak(){return this.stats.hp<=20}get getRandomWeakText(){switch(this.assignRandomStatValue(5)){case 1:return"OOF";case 2:return"WHACK";case 3:return"SHIT!";case 4:return"CRAP";case 5:return"WEAK!"}}get getCardDescription(){return this.description}assignRandomStatValue=e=>Math.floor(Math.random()*Math.floor(e))+1}var t=io();let r=[];const a=()=>{c(r),d()};t.on("deal-cards",(e=>{r.push(...e),a()}));const o=e=>{const r=e.target.style;document.querySelectorAll(".card").forEach((e=>{e.style.scale=1,e.style.zIndex=0,e.style.position="relative"})),d(),r.transform="scale(1.9)",r.zIndex=10,e.target.firstChild.style.visibility="visible",console.log(e.target.querySelector(".notification-area")),u(e),t.emit("chat","fuck you")},c=t=>{const r=document.querySelector(".play-area");t.map((t=>{const a=new e(t),o=document.createElement("DIV");o.classList.add("card",a.rarity),o.setAttribute("style",`background-size: 100%; \n      background-image: url("./media/cards-pngs-optimized/medium/${a.id.toString()}.png");\n      background-image: url("./media/cards-pngs-optimized/medium/${a.id.toString()}.png")${"rare"===a.rarity&&", linear-gradient(to right, #BF953F, #FCF6BA, #FBF5B7, #AA771C)"};\n      background-color: ${a.getRarityColor}; background-size: cover;`),r.appendChild(o),((e,t)=>{const r=document.createElement("P");r.classList.add("card-rarity"),r.appendChild(document.createTextNode(e.getRarityIcon)),t.appendChild(r)})(a,o),a.getIsWeak&&((e,t)=>{const r=document.createElement("span");r.innerHTML=e.getRandomWeakText,r.setAttribute("style","opacity: 0;"),r.classList.add("notification-area"),t.appendChild(r)})(a,o),((e,t)=>{const r=document.createElement("P");r.classList.add("card-stats"),r.appendChild(document.createTextNode(e.getCardStats)),t.appendChild(r),r.setAttribute("style",`${"rare"!==e.rarity&&"background-color: gold;"}`)})(a,o),o.addEventListener("click",(function(){i(a)}))})),s(),n(),document.querySelectorAll(".card").forEach((e=>{e.addEventListener("click",o)}))},s=()=>{document.querySelector(".populate-cards").setAttribute("disabled","true")},n=()=>{document.querySelector(".delete-cards").removeAttribute("disabled")},d=()=>{const e=document.querySelectorAll(".common"),t=document.querySelectorAll(".uncommon"),r=document.querySelectorAll(".rare"),a=document.querySelectorAll(".back"),o=e=>{e.forEach((e=>{const t=Math.random()<.5?-1:1,r=(Math.floor(Math.random()*Math.floor(2.5))+1)*t;e.style.transform=`rotate(${r}deg)`}))};o(e),o(t),o(r),o(a)};document.querySelector(".populate-cards").addEventListener("click",a),document.querySelector(".delete-cards").addEventListener("click",(()=>{const e=document.querySelector(".play-area");for(;e.firstChild;)e.removeChild(e.firstChild);document.querySelector(".populate-cards").removeAttribute("disabled"),document.querySelector(".delete-cards").setAttribute("disabled","true"),l()}));const i=e=>{const t=document.querySelectorAll(".card-description");t&&t.forEach((e=>e.remove()));const r=document.querySelector(".card-details-area"),a=document.createElement("P"),o=document.createElement("P");a.classList.add("card-description"),o.classList.add("card-description"),a.appendChild(document.createTextNode(e.description)),o.appendChild(document.createTextNode(`${e.getRarityIcon} ${e.rarity.toUpperCase()} | HP: ${e.stats.hp} | ATTACK: ${e.stats.attack} | DEFENSE: ${e.stats.defense}`)),r.appendChild(a),r.appendChild(o)},l=()=>{const e=document.querySelectorAll(".card-description");e&&e.forEach((e=>e.remove()))},u=e=>{e.target.querySelector(".notification-area").setAttribute("style","opacity: 1;"),setTimeout((()=>{e.target.querySelector(".notification-area").setAttribute("style","opacity: 0;")}),700)}})();